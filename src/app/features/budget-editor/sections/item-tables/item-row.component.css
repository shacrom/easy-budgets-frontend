@import "tailwindcss";

:host {
  display: contents;
}

.material-cell {
  @apply px-4 py-3 text-sm font-light align-middle;
}

/* Selection checkbox cell */
.material-cell.selection {
  @apply w-10 text-center px-2;
}

.selection-checkbox {
  @apply w-4 h-4 cursor-pointer accent-amber-800;
}

.material-cell.descripcion,
.material-cell.description,
.material-cell.reference,
.material-cell.supplier {
  @apply text-left;
}

.material-cell.reference {
  position: relative;
  z-index: 1;
}

.material-cell.reference:focus-within {
  z-index: 10000;
}

.material-cell.cantidad {
  @apply text-center;
}

.material-cell.precio,
.material-cell.precio-total {
  @apply text-right font-normal;
}

.material-cell.acciones {
  @apply text-center;
}

.input-field {
  @apply w-full border border-gray-300 px-2 py-1 text-sm font-light tracking-[0.05em] focus:border-gray-900 focus:outline-none;
}

/* Textarea styling for description field */
.textarea-field {
  @apply min-h-11 max-h-60 resize-none overflow-hidden; /* keep max height to avoid huge rows */
  line-height: 1.3;
  @apply pt-2 pb-2; /* visually match input vertical padding */
  box-sizing: border-box;
}

/* Ensure inline inputs align to center vertically */
.material-cell input.input-field,
.material-cell .input-field {
  @apply align-middle;
}

.reference-field {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.reference-dropdown-portal {
  position: fixed;
  width: max-content;
  min-width: 450px;
  max-width: 600px;
  max-height: 400px;
  overflow-y: auto;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  z-index: 99999;
  padding: 0.5rem;
}

.reference-dropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  width: max-content;
  min-width: 450px;
  max-width: 600px;
  max-height: 400px;
  overflow-y: auto;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  z-index: 99999;
}

.reference-helper {
  @apply mb-2 text-[0.6rem] font-semibold uppercase tracking-[0.35em] text-gray-400;
}

.reference-empty {
  @apply text-center text-sm text-gray-500;
}

.reference-no-match {
  @apply flex flex-col items-center gap-3 py-2;
}

.create-product-btn {
  @apply inline-flex items-center gap-2 border border-green-600 bg-green-50 px-3 py-2 text-xs font-semibold uppercase tracking-[0.15em] text-green-700 transition-colors hover:bg-green-100;
}

.create-product-btn .material-symbols-rounded {
  font-size: 1.1rem;
}

.reference-list {
  @apply flex flex-col gap-1;
}

.reference-suggestion {
  @apply flex flex-col items-start gap-1 rounded-xl border border-transparent px-3 py-2 text-left transition-colors hover:border-gray-300 hover:bg-gray-50;
}

.suggestion-reference {
  @apply text-xs font-semibold uppercase tracking-[0.3em] text-gray-800;
}

.suggestion-description {
  @apply text-sm font-light text-gray-600;
  display: -webkit-box;
  overflow: hidden;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.btn-delete-row {
  @apply inline-flex items-center gap-2 border border-red-600 px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-red-600 transition-colors hover:bg-red-50;
}

.btn-delete-row .material-symbols-rounded {
  font-size: 1rem;
}
.btn-delete-row {
  @apply inline-flex items-center gap-1 rounded-full bg-red-50 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-red-700 transition-colors hover:bg-red-100;
}

.btn-delete-row .material-symbols-rounded {
  font-size: 1rem;
}
